<!DOCTYPE html>
<html lang="pt-br" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

<ui:composition template="/WEB-INF/common/template.xhtml">
	
	<ui:param name="titulo_pagina" value="Cadastro de colaborador" />
	<ui:param name="subtitulo_pagina" value="Pequena descrição da funcionalidade" />


	<ui:define name="conteudo">
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<h:outputScript library="js" name="jquery.maskedinput.min.js" />
	
		<h:form prependId="false" styleClass="form-horizontal">
			<div class="form-group">
				<label for="nome" class="col-sm-2 control-label">Nome</label>
				<div class="col-sm-5">
					<h:inputText required="true" id="nome" styleClass="form-control" p:placeholder="Nome do dentista" value="#{dentistaMB.dentista.nome}" />
				</div>
			</div>
			
			<div class="form-group">
				<label for="especialidade" class="col-sm-2 control-label">Especialidade</label>
				<div class="col-sm-4">
					<h:selectOneMenu value="#{dentistaMB.dentista.especialidade}">
						<f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
						<f:selectItems value="#{dentistaMB.especialidadesOdontológicas}" var="especialidade" itemLabel="#{especialidade.descricao}" itemValue="#{especialidade}" />
					</h:selectOneMenu>
				</div>
			</div>
			
			<div class="form-group">
				<label for="dataNascimento" class="col-sm-2 control-label">Data de nascimento</label>
				<div class="col-sm-2">
					<h:inputText required="true" id="dataNascimento" styleClass="form-control" value="#{dentistaMB.dentista.dataDeNascimento}" p:placeholder="__/__/____">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:inputText>
				</div>
			</div>
			
			<div class="form-group">
				<label for="email" class="col-sm-2 control-label">Email</label>
				<div class="col-sm-4">
					<h:inputText required="true" id="email" styleClass="form-control" value="#{dentistaMB.dentista.email}" p:placeholder="Email" />
				</div>
			</div>
			
			<div class="form-group">
				<label for="telefone" class="col-sm-2 control-label">Telefone:</label>
				<div class="col-sm-2">
					<h:inputText id="telefone" styleClass="form-control" value="#{dentistaMB.dentista.telefone}" p:placeholder="(__) ____-____" />
				</div>
			</div>
			
			<div class="form-group">
				<label for="cro" class="col-sm-2 control-label">CRO:</label>
				<div class="col-sm-2">
					<h:inputText required="true" id="cro" styleClass="form-control" value="#{dentistaMB.dentista.registroNoCadastroRegionalOdontologico}" p:placeholder="CRO" />
				</div>
			</div>
			
			<div class="form-group">
				<label class="col-sm-2 control-label">Sexo</label>
				<div class="col-sm-2">
					<h:selectOneMenu required="true" value="#{dentistaMB.dentista.sexo}" label="sexo">
						<f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
						<f:selectItems itemLabel="#{sexo.descricao}" itemValue="#{sexo}" value="#{dentistaMB.sexos}" var="sexo" />
					</h:selectOneMenu>
				</div>
			</div>
			
			<div class="form-group">
				<label for="cep" class="col-sm-2 control-label">CEP</label>
				<div class="col-sm-2">
					<h:inputText required="true" id="cep" styleClass="form-control" value="#{dentistaMB.dentista.endereco.cep}" p:placeholder="74000-00" />
				</div>
			</div>
			
			<div class="form-group">
				<label for="endereco" class="col-sm-2 control-label">Endereço</label>
				<div class="col-sm-4">
					<h:inputText id="endereco" styleClass="form-control" value="#{dentistaMB.dentista.endereco.endereco}" p:placeholder="Rua A" />
				</div>
				
				
				<label for="bairro" class="col-sm-1 control-label">Bairro</label>
				<div class="col-sm-3">
					<h:inputText id="bairro" styleClass="form-control" value="#{dentistaMB.dentista.endereco.bairro}" p:placeholder="Bairro central" />
				</div>
			</div>
			
			<div class="form-group">
				<label for="cidade" class="col-sm-2 control-label">Cidade</label>
				<div class="col-sm-3">
					<h:inputText id="cidade" styleClass="form-control" value="#{dentistaMB.dentista.endereco.cidade}" p:placeholder="Goiânia" />
				</div>
				
				<label for="estado" class="col-sm-1 control-label">Estado</label>
				<div class="col-sm-3">
					<h:inputText id="estado" styleClass="form-control" value="#{dentistaMB.dentista.endereco.estado}" p:placeholder="Goiás" />
				</div>
			</div>
			
			<h:commandButton value="Salvar" action="#{dentistaMB.salvar}" styleClass="btn btn-success" />
			
			<h:outputLink styleClass="btn btn-danger" value="/sgo/dentista/index.xhtml">Voltar</h:outputLink>
		</h:form>
		
		<script type="text/javascript">
			$("#dataNascimento").mask("99/99/9999");
			$("#telefone").mask("(99) 9999-9999");
			
			$("#cep").mask("99999-999");
		</script>
		
		<script type="text/javascript">
			$('#cep').keyup(function () {
				var cep = $(this).val().replace('-', '');
				
				if (/^\d+$/.test(cep)) {
					var url = "http://viacep.com.br/ws/" + cep + "/json/"
					$.getJSON(url, function(result){
				        $('#endereco').val(result.logradouro);
				        $('#bairro').val(result.bairro);
				        $('#cidade').val(result.localidade);
				        $('#estado').val(result.uf);
				    });
				}
			});
		</script>
	</ui:define>
</ui:composition>

</html>
